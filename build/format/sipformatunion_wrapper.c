/*
 * Interface wrapper code.
 *
 * Generated by SIP 6.1.1
 */

#include "sipAPIformat.h"

#line 161 "/home/DOMAIN.TEST/administrator/gvdb/policy_bin_reader.sip"
    #include <gvdb-format.h>
#line 246 "/home/DOMAIN.TEST/administrator/gvdb/policy_bin_reader.sip"
            #include <gvdb-format.h>

            struct union_wrapper
            {
                union value u;
            };
#line 19 "/home/DOMAIN.TEST/administrator/gvdb/build/format/sipformatunion_wrapper.c"



static void *array_union_wrapper(Py_ssize_t sipNrElem)
{
    return sipMalloc(sizeof (struct union_wrapper) * sipNrElem);
}


static void assign_union_wrapper(void *sipDst, Py_ssize_t sipDstIdx, void *sipSrc)
{
    ((struct union_wrapper *)sipDst)[sipDstIdx] = *((struct union_wrapper *)sipSrc);
}


static void *copy_union_wrapper(const void *sipSrc, Py_ssize_t sipSrcIdx)
{
    struct union_wrapper *sipPtr = sipMalloc(sizeof (struct union_wrapper));
    *sipPtr = ((const struct union_wrapper *)sipSrc)[sipSrcIdx];

    return sipPtr;
}


static void dealloc_union_wrapper(sipSimpleWrapper *sipSelf)
{
    if (sipIsOwnedByPython(sipSelf))
    {
        sipFree(sipGetAddress(sipSelf));
    }
}


static void *init_type_union_wrapper(sipSimpleWrapper *sipSelf, PyObject *sipArgs, PyObject *sipKwds, PyObject **sipUnused, PyObject **sipOwner, PyObject **sipParseErr)
{
    struct union_wrapper *sipCpp = SIP_NULLPTR;

    {
        if (sipParseKwdArgs(sipParseErr, sipArgs, sipKwds, SIP_NULLPTR, sipUnused, ""))
        {
            sipCpp = sipMalloc(sizeof (struct union_wrapper));

            return sipCpp;
        }
    }

    return SIP_NULLPTR;
}


static PyObject *varget_union_wrapper_direct(void *sipSelf, PyObject *sipPySelf, PyObject *sipPyType)
{
    PyObject *sipPy;
    struct union_wrapper *sipCpp = (struct union_wrapper *)sipSelf;

#line 257 "/home/DOMAIN.TEST/administrator/gvdb/policy_bin_reader.sip"
            sipPy = PyBytes_AsStringAndSize(sipCpp -> u.direct, 8);
#line 77 "/home/DOMAIN.TEST/administrator/gvdb/build/format/sipformatunion_wrapper.c"

    return sipPy;
}


static int varset_union_wrapper_direct(void *sipSelf, PyObject *sipPy, PyObject *sipPySelf)
{
    struct union_wrapper *sipCpp = (struct union_wrapper *)sipSelf;

   int sipErr = 0;

#line 261 "/home/DOMAIN.TEST/administrator/gvdb/policy_bin_reader.sip"
            char *ptr;
            int length;

            if (PyBytes_AsStringAndSize(sipPy, &ptr, &length) == -1)
                sipErr = 1;
            else if (length != 8)
            {
                PyErr_SetString(PyExc_ValueError, "an gvdb_hash_item.value must be exactly 8 bytes");
                sipErr = 1;
            }
            else
                memcpy(sipCpp -> u.direct, ptr, 8);
#line 102 "/home/DOMAIN.TEST/administrator/gvdb/build/format/sipformatunion_wrapper.c"

    return (sipErr ? -1 : 0);
}

sipVariableDef variables_union_wrapper[] = {
    {InstanceVariable, sipName_direct, (PyMethodDef *)varget_union_wrapper_direct, (PyMethodDef *)varset_union_wrapper_direct, SIP_NULLPTR, SIP_NULLPTR},
};

PyDoc_STRVAR(doc_union_wrapper, "\1value()");


sipClassTypeDef sipTypeDef_format_union_wrapper = {
    {
        SIP_NULLPTR,
        SIP_TYPE_CLASS,
        sipNameNr_union_wrapper,
        SIP_NULLPTR,
        SIP_NULLPTR
    },
    {
        sipNameNr_value,
        {0, 0, 1},
        0, SIP_NULLPTR,
        1, variables_union_wrapper,
        {SIP_NULLPTR, SIP_NULLPTR, SIP_NULLPTR, SIP_NULLPTR, SIP_NULLPTR, SIP_NULLPTR, SIP_NULLPTR, SIP_NULLPTR, SIP_NULLPTR, SIP_NULLPTR},
    },
    doc_union_wrapper,
    -1,
    -1,
    SIP_NULLPTR,
    SIP_NULLPTR,
    init_type_union_wrapper,
    SIP_NULLPTR,
    SIP_NULLPTR,
    SIP_NULLPTR,
    SIP_NULLPTR,
    dealloc_union_wrapper,
    assign_union_wrapper,
    array_union_wrapper,
    copy_union_wrapper,
    SIP_NULLPTR,
    SIP_NULLPTR,
    SIP_NULLPTR,
    SIP_NULLPTR,
    SIP_NULLPTR,
    SIP_NULLPTR,
    SIP_NULLPTR,
    SIP_NULLPTR
};
